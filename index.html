<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Frasco de Amor</title>
<style>
body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(180deg,#ffd6e7,#ffeaf4);
  overflow:hidden;
}

/* Corazones */
.heart{
  position:fixed;
  bottom:-50px;
  animation:float 10s linear infinite;
  opacity:0.7;
}
@keyframes float{
  to{transform:translateY(-120vh);}
}

/* INICIO */
#inicio{
  position:fixed;
  width:100%;
  height:100%;
  background:#fff0f6;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:20px;
  z-index:10;
}

#inicio p{
  max-width:320px;
  line-height:1.5;
  margin:5px 0;
}

input{
  margin:6px;
  padding:10px;
  border-radius:10px;
  border:1px solid #ccc;
  text-align:center;
  width:90px;
  font-size:15px;
}

#inicio button{
  margin-top:15px;
  padding:12px 25px;
  border:none;
  border-radius:20px;
  background:#ff4da6;
  color:white;
  font-size:16px;
  cursor:pointer;
  transition:0.3s;
}

#inicio button:hover{
  background:#ff3385;
  transform:scale(1.05);
}

/* Mensaje de carga */
#mensajeCarga {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 240, 246, 0.95);
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 20;
  text-align: center;
}

#mensajeCarga h3 {
  color: #ff4da6;
  font-size: 22px;
  margin-bottom: 20px;
}

#contadorSegundos {
  font-size: 48px;
  font-weight: bold;
  color: #ff4da6;
  margin: 20px 0;
}

.corazonCarga {
  font-size: 40px;
  animation: latido 1s infinite;
}

@keyframes latido {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

/* FRASCO */
#frasco-container{
  display:none;
  text-align:center;
  margin-top:30px;
  padding:20px;
}

#tapa{
  width:130px;
  height:35px;
  background:#fff;
  border-radius:10px;
  margin:0 auto;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}

#frasco{
  width:240px;
  height:330px;
  margin:20px auto;
  background:rgba(255,255,255,0.35);
  border:6px solid white;
  border-radius:120px 120px 40px 40px;
  backdrop-filter:blur(6px);
  position:relative;
  box-shadow:0 0 25px rgba(0,0,0,0.2);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

.mensaje{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:80%;
  padding:15px;
  border-radius:15px;
  color:white;
  font-size:15px;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
  text-align:center;
  word-wrap:break-word;
}

.firma{
  font-size:11px;
  text-align:right;
  margin-top:8px;
  opacity:0.9;
}

.colores{
  margin-top:20px;
}

.colores button{
  margin:8px;
  padding:12px 18px;
  border:none;
  border-radius:20px;
  color:white;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s;
}

.colores button:hover{
  transform:scale(1.05);
  opacity:0.9;
}

#poemaBtn{
  background:#a55eea;
  color:white;
  margin-top:20px;
  padding:12px 24px;
  border:none;
  border-radius:20px;
  cursor:pointer;
  font-size:16px;
  transition:0.3s;
}

#poemaBtn:hover{
  background:#8a3bd6;
  transform:scale(1.05);
}

/* WhatsApp logo */
#wa{
  position:fixed;
  bottom:20px;
  right:20px;
  width:55px;
  transition:0.3s;
}

#wa:hover{
  transform:scale(1.1);
}

/* Poema */
#poemaBox{
  margin-top:20px;
  padding:20px;
  display:none;
  font-style:italic;
  max-width:320px;
  margin:20px auto;
  background:rgba(255,255,255,0.8);
  border-radius:15px;
  box-shadow:0 0 10px rgba(0,0,0,0.1);
}

#saludo{
  color:#ff4da6;
  font-size:24px;
  margin-bottom:20px;
}

#contadorDias{
  margin-top:15px;
  font-weight:bold;
  color:#ff4da6;
  font-size:18px;
}
</style>
</head>
<body>

<div id="inicio">
  <h2>Este frasco es para vos üíñ</h2>
  <p>Ac√° dentro hay palabras pensadas solo para vos.<br>
  Cuando te sientas triste, feliz, ansiosa o desmotivada, toc√° un color y vas a leer algo que te abrace el coraz√≥n üíå</p>
  
  <p><b>Escrib√≠ tu nombre y la fecha en la que empezamos a ser novios</b></p>
  
  <input id="nombreInput" placeholder="Tu nombre"><br>
  <input id="dia" placeholder="D√≠a" type="number" min="1" max="31">
  <input id="mes" placeholder="Mes" type="number" min="1" max="12">
  <input id="anio" placeholder="A√±o" type="number" min="2000" max="2050">
  
  <button onclick="esperar()">Enviar a mi Polososo</button>
  <p id="contadorDias" style="margin-top:10px; font-weight:bold; color:#ff4da6;"></p>
</div>

<!-- Mensaje de carga con contador -->
<div id="mensajeCarga">
  <h3>Cargando......para confirmar que sos el amor de mi vida üíñ</h3>
  <div class="corazonCarga">‚ù§Ô∏è</div>
  <div id="contadorSegundos">20</div>
  <p>Esper√° un momentito amor...</p>
</div>

<div id="frasco-container">
  <h3 id="saludo"></h3>
  
  <div id="tapa"></div>
  <div id="frasco">
    <div class="mensaje" style="background:#ffd6e7; color:#333;">
      Toc√° un color para recibir tu mensaje üíñ
      <div class="firma">De tu Polososo üíå</div>
    </div>
  </div>
  
  <div class="colores">
    <button style="background:#ff6b81" onclick="mostrar('triste')">Triste</button>
    <button style="background:#feca57" onclick="mostrar('desmotivada')">Desmotivada</button>
    <button style="background:#1dd1a1" onclick="mostrar('feliz')">Feliz</button>
    <button style="background:#54a0ff" onclick="mostrar('ansiosa')">Ansiosa</button>
  </div>
  
  <button id="poemaBtn" onclick="mostrarPoema()">Poema</button>
  <div id="poemaBox"></div>
</div>

<a href="https://wa.me/59894112354" target="_blank">
  <img id="wa" src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
</a>

<script>
// ===== CORAZONES =====
for(let i=0;i<25;i++){
  let h=document.createElement('div');
  h.className='heart';
  h.innerHTML='üíñ';
  h.style.left=Math.random()*100+'vw';
  h.style.fontSize=(15+Math.random()*30)+'px';
  h.style.animationDuration=(6+Math.random()*8)+'s';
  document.body.appendChild(h);
}

// ===== MENSAJES =====
const mensajes = {
  triste:[
    "No est√°s sola, yo estoy con vos üíó",
    "Tu tristeza no cambia lo incre√≠ble que sos ‚ú®",
    "Respir√°, esto va a pasar üíû",
    "Aunque el d√≠a sea gris, vos brill√°s igual",
    "Cada l√°grima la secamos juntos üíñ",
    "Mi abrazo est√° contigo aunque no me veas ü´Ç",
    "Tu coraz√≥n es m√°s fuerte de lo que cre√©s üíó",
    "Cuando quieras llorar, llor√° conmigo üíì",
    "Tus l√°grimas riegan nuestro amor üíï",
    "Te abrazo con el alma aunque est√© lejos üíû",
    "Tu tristeza tambi√©n la siento y la abrazo üíñ",
    "Siempre estoy aqu√≠ para vos ü´∂",
    "No dej√©s que la tristeza te gane üíó",
    "Mi amor te protege incluso en la tristeza üíå",
    "Mi mano siempre est√° lista para sostenerte ü§≤üíñ",
    "Tu sonrisa volver√° y yo estar√© ah√≠ üòò",
    "Aunque llueva, nuestro amor brilla ‚òîüíñ",
    "Juntos podemos con cualquier emoci√≥n üíó",
    "No hay tristeza que nos separe üíû",
    "Te veo y mi coraz√≥n se enciende üíì"
  ],
  desmotivada:[
    "Vos pod√©s con todo üí™üíñ",
    "Yo conf√≠o en vos m√°s de lo que imagin√°s üåü",
    "No te rindas, sos fuerte üå∑",
    "Acordate qui√©n sos üòç",
    "Cada paso es un logro üíå",
    "Sos capaz de cosas incre√≠bles üíó",
    "No hay l√≠mites para vos üíû",
    "Conf√≠o en tu coraz√≥n y tu fuerza üíì",
    "Siempre adelante amor m√≠o üíñ",
    "Sos la persona m√°s valiente üíó",
    "Nunca dejes de intentarlo üíå",
    "Tu esfuerzo vale much√≠simo üíû",
    "Sos luz en cada desaf√≠o üíì",
    "Mi amor te impulsa siempre üíñ",
    "Cada d√≠a es una nueva oportunidad üíó",
    "Nunca dudes de vos üíå",
    "Sos mi inspiraci√≥n üíû",
    "Juntos podemos con todo üíì",
    "No hay monta√±a que no puedas escalar üíñ",
    "Conf√≠a en tu coraz√≥n üíó"
  ],
  feliz:[
    "Tu sonrisa es mi lugar favorito üòÑüíò",
    "Verte feliz es mi felicidad üíû",
    "Guard√° este momento üåà",
    "Que esta alegr√≠a te dure todo el d√≠a ü•∞",
    "Sos mi alegr√≠a üíñ",
    "Cada risa tuya me ilumina üíó",
    "Sos mi mundo feliz üíû",
    "Contigo todo es mejor üíì",
    "Tu felicidad me hace sonre√≠r üíñ",
    "Sos la raz√≥n de mis sonrisas üíó",
    "Cada instante con vos es un regalo üíû",
    "Que tu alegr√≠a nunca se apague üíì",
    "Sos mi sol radiante üíñ",
    "Tu felicidad es mi paz üíó",
    "Sos mi inspiraci√≥n feliz üíû",
    "Siempre juntos en la alegr√≠a üíì",
    "Cada sonrisa tuya me enamora üíñ",
    "Sos √∫nica y brillante üíó",
    "Todo es m√°s lindo con vos üíû",
    "Sos mi mundo üíì"
  ],
  ansiosa:[
    "Tranquila, todo est√° bien üå∏",
    "Inhal√° amor, exhal√° miedo üíó",
    "Estoy con vos ü´∂",
    "Tu coraz√≥n est√° a salvo üíñ",
    "Respir√°, mi amor üíì",
    "Todo va a estar bien üíå",
    "Sos mi calma üíû",
    "Mi abrazo te protege üíó",
    "Sos segura conmigo üíñ",
    "Todo se va a arreglar üíì",
    "Mi amor te cuida üíå",
    "Sos mi paz interior üíû",
    "No te preocupes, estoy aqu√≠ üíó",
    "Sos fuerte incluso cuando dudas üíñ",
    "Conf√≠a en m√≠ üíì",
    "Cada latido tuyo me importa üíå",
    "Sos mi tranquilidad üíû",
    "Nada puede hacerte da√±o üíó",
    "Mi amor te abraza siempre üíñ",
    "Sos mi refugio üíì"
  ]
};

// Para no repetir mensajes
let usados = { triste:[], desmotivada:[], feliz:[], ansiosa:[] };

// Funci√≥n para mostrar mensaje
function mostrar(tipo){
  let arr = mensajes[tipo];
  if(usados[tipo].length === arr.length) usados[tipo] = [];
  let disponibles = arr.filter(m => !usados[tipo].includes(m));
  let elegido = disponibles[Math.floor(Math.random()*disponibles.length)];
  usados[tipo].push(elegido);

  document.getElementById("frasco").innerHTML = `
  <div class="mensaje" style="background:${color(tipo)}">
    ${elegido}
    <div class="firma">De tu Polososo üíå</div>
  </div>`;
}

// Color seg√∫n emoci√≥n
function color(t){
  return {
    triste:"#ff6b81",
    desmotivada:"#feca57",
    feliz:"#1dd1a1",
    ansiosa:"#54a0ff"
  }[t];
}

// Funci√≥n para mostrar poema
function mostrarPoema(){
  const poemas = [
    "Eres el sol que ilumina mi d√≠a,\nLa luna que alumbra mi noche,\nEl latido que da sentido a mi vida,\nEres mi todo, mi amor eterno. üíñ",
    "En tus ojos encuentro el universo,\nEn tu risa mi paz y mi gozo,\nEn tu amor mi raz√≥n de existir,\nEres mi sue√±o hecho realidad. üåü",
    "Como el mar necesita la orilla,\nComo el cielo necesita estrellas,\nAs√≠ mi coraz√≥n te necesita a ti,\nPara latir, para amar, para siempre. üíï",
    "Si cada estrella fuera un beso,\nTe dar√≠a todo el cielo.\nSi cada gota de lluvia fuera un te quiero,\nTe dar√≠a todo el mar.\nPero como solo tengo un coraz√≥n,\nTe lo doy completo y sin reservas. üíó"
  ];
  
  const poemaElegido = poemas[Math.floor(Math.random() * poemas.length)];
  const poemaBox = document.getElementById("poemaBox");
  
  poemaBox.innerHTML = `<p style="white-space: pre-line; text-align: center;">${poemaElegido}</p>`;
  poemaBox.style.display = "block";
  
  // Ocultar despu√©s de 10 segundos
  setTimeout(() => {
    poemaBox.style.display = "none";
  }, 10000);
}

// ===== CONTADOR DE 20 SEGUNDOS =====
function iniciarContador() {
  let segundos = 20;
  const contadorElement = document.getElementById("contadorSegundos");
  const mensajeCarga = document.getElementById("mensajeCarga");
  
  mensajeCarga.style.display = "flex";
  
  const intervalo = setInterval(() => {
    segundos--;
    contadorElement.textContent = segundos;
    
    if (segundos <= 0) {
      clearInterval(intervalo);
      mensajeCarga.style.display = "none";
      mostrarFrasco();
    }
  }, 1000);
}

// ===== MOSTRAR FRASCO DESPU√âS DEL CONTADOR =====
function mostrarFrasco() {
  const n = document.getElementById("nombreInput").value;
  const d = document.getElementById("dia").value;
  const m = document.getElementById("mes").value;
  const a = document.getElementById("anio").value;
  
  // Calcular d√≠as juntos
  const fechaInicio = new Date(a, m-1, d);
  const hoy = new Date();
  const diffTime = Math.abs(hoy - fechaInicio);
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
  
  // Guardar datos en localStorage
  localStorage.setItem('nombrePareja', n);
  localStorage.setItem('fechaInicio', `${d}/${m}/${a}`);
  
  // Mostrar frasco
  document.getElementById("inicio").style.display = "none";
  document.getElementById("frasco-container").style.display = "block";
  
  // Mostrar saludo personalizado
  document.getElementById("saludo").textContent = `Para ${n} üíñ`;
  
  // Mostrar contador de d√≠as
  document.getElementById("contadorDias").textContent = `Llevamos ${diffDays} d√≠as juntos üíï`;
  
  // Mostrar mensaje inicial
  mostrar('feliz');
}

// ===== ESPERAR + GUARDAR DATOS =====
function esperar(){
  let n = document.getElementById("nombreInput").value;
  let d = document.getElementById("dia").value;
  let m = document.getElementById("mes").value;
  let a = document.getElementById("anio").value;

  if(!n || !d || !m || !a){
    alert("Complet√° todo üíñ");
    return;
  }

  // Validar fecha
  const fechaInicio = new Date(a, m-1, d);
  const hoy = new Date();
  
  if(fechaInicio > hoy){
    alert("La fecha no puede ser futura üíñ");
    return;
  }

  if(fechaInicio.getFullYear() != a || 
     fechaInicio.getMonth()+1 != m || 
     fechaInicio.getDate() != d){
    alert("Fecha inv√°lida üíñ");
    return;
  }

  // Iniciar el contador de 20 segundos
  iniciarContador();
}

// Cargar datos si ya existen
window.onload = function() {
  const nombreGuardado = localStorage.getItem('nombrePareja');
  const fechaGuardada = localStorage.getItem('fechaInicio');
  
  if(nombreGuardado && fechaGuardada){
    const [d, m, a] = fechaGuardada.split('/').map(Number);
    const fechaInicio = new Date(a, m-1, d);
    const hoy = new Date();
    const diffTime = Math.abs(hoy - fechaInicio);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    
    document.getElementById("inicio").style.display = "none";
    document.getElementById("frasco-container").style.display = "block";
    document.getElementById("saludo").textContent = `Para ${nombreGuardado} üíñ`;
    document.getElementById("contadorDias").textContent = `Llevamos ${diffDays} d√≠as juntos üíï`;
  }
};
</script>
</body>
</html>